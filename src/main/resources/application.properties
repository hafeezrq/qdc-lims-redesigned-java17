# Application Name
spring.application.name=LIMS-Desktop

# Default profile (production)
spring.profiles.active=prod

# Desktop-only (no embedded web server)
spring.main.web-application-type=none

# Database configuration is profile-based (PostgreSQL).
# Use application-dev.properties or application-prod.properties.

# Flyway (enabled by default when on classpath)
# spring.flyway.enabled=true
# spring.flyway.locations=classpath:db/migration

# ===========================
# LOGGING CONFIGURATION
# ===========================
logging.level.com.qdc.lims=INFO
logging.level.org.springframework.security=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Log to file (uses AppPaths for location)
logging.file.name=${user.home}/Library/Application Support/LIMS/Logs/lims.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=7

# ===========================
# SPRING SECURITY
# ===========================
# Disable default security for now (configure later)
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# ===========================
# APPLICATION SETTINGS
# ===========================
# Admin account is created on first run via UI setup.

# Session timeout (minutes)
qdc.session.timeout=30

# Master data seeding (first run only)
qdc.seed.master.enabled=true
qdc.seed.master.location=classpath:seed/master-data.json

# Backup settings
qdc.backup.auto-enabled=true
qdc.backup.schedule=0 0 2 * * ?  # Daily at 2 AM
qdc.backup.retention-days=0

# Report settings
qdc.reports.logo-path=classpath:static/images/logo.png
qdc.reports.footer-text=LIMS - Confidential Report

# ===========================
# PERFORMANCE
# ===========================
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# ===========================
# DEVELOPMENT ONLY
# ===========================
# Seed data only runs in dev/test profiles.
# Example: SPRING_PROFILES_ACTIVE=dev
# Uncomment for debugging
# spring.jpa.show-sql=true
# logging.level.org.springframework=DEBUG
