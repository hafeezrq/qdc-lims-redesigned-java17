<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.qdc.lims.ui.controller.DoctorCommissionLedgerController"
            prefHeight="650.0" prefWidth="980.0" style="-fx-background-color: #f5f6fa;">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="20.0" style="-fx-background-color: #e74c3c; -fx-padding: 15 20;">
            <Label text="Doctor Commission Ledger" textFill="WHITE">
                <font>
                    <Font name="System Bold" size="20.0" />
                </font>
            </Label>
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="closeButton" text="Close" onAction="#handleClose"
                    style="-fx-background-color: #c0392b; -fx-text-fill: white;" />
        </HBox>
    </top>

    <center>
        <VBox spacing="16">
            <padding><Insets top="20" right="20" bottom="20" left="20"/></padding>

            <HBox spacing="12" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-padding: 12; -fx-background-radius: 5;">
                <Label text="From:"/>
                <DatePicker fx:id="startDatePicker"/>
                <Label text="To:"/>
                <DatePicker fx:id="endDatePicker"/>
                <Label text="Doctor:"/>
                <ComboBox fx:id="doctorFilter" prefWidth="200"/>
                <Button text="Generate" onAction="#handleGenerate" style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
            </HBox>

            <HBox spacing="12">
                <VBox spacing="4" alignment="CENTER" style="-fx-background-color: #ecf0f1; -fx-padding: 12; -fx-background-radius: 5;" HBox.hgrow="ALWAYS">
                    <Label text="Total Commission" />
                    <Label fx:id="totalCommissionLabel" text="\$0.00" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
                </VBox>
                <VBox spacing="4" alignment="CENTER" style="-fx-background-color: #d6f5e4; -fx-padding: 12; -fx-background-radius: 5;" HBox.hgrow="ALWAYS">
                    <Label text="Paid" />
                    <Label fx:id="totalPaidLabel" text="\$0.00" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #27ae60;"/>
                </VBox>
                <VBox spacing="4" alignment="CENTER" style="-fx-background-color: #fdebd0; -fx-padding: 12; -fx-background-radius: 5;" HBox.hgrow="ALWAYS">
                    <Label text="Due" />
                    <Label fx:id="totalDueLabel" text="\$0.00" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #e67e22;"/>
                </VBox>
            </HBox>

            <TableView fx:id="summaryTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="doctorCol" text="Doctor" prefWidth="200"/>
                    <TableColumn fx:id="totalBillCol" text="Total Bill" prefWidth="120"/>
                    <TableColumn fx:id="commissionCol" text="Commission" prefWidth="120"/>
                    <TableColumn fx:id="paidCol" text="Paid" prefWidth="120"/>
                    <TableColumn fx:id="dueCol" text="Due" prefWidth="120"/>
                </columns>
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                </columnResizePolicy>
            </TableView>
        </VBox>
    </center>

</BorderPane>
